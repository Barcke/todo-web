module.exports=[21430,(a,b,c)=>{"use strict";b.exports=a.r(95211).vendored["react-ssr"].ReactServerDOMTurbopackClient},90384,a=>{"use strict";var b=a.i(27613),c=a.i(34991),d=a.i(38490),e=a.i(1184),f=a.i(20066),g=a.i(41940),h=a.i(88110),i=a.i(90953),j=a.i(81729),k=a.i(45020),l=a.i(8046),m=a.i(22051),n=a.i(72758),o=a.i(62416);let p=h.z.object({username:h.z.string().min(1,"请输入用户名"),password:h.z.string().min(1,"请输入密码")});function q(){let a=(0,d.useRouter)(),h=(0,d.useSearchParams)(),{login:q,isAuthenticated:r}=(0,i.useAuth)(),[s,t]=(0,c.useState)(!1),u=(0,f.useForm)({resolver:(0,g.zodResolver)(p),defaultValues:{username:"",password:""}});if((0,c.useEffect)(()=>{if(r){let b=h.get("redirect");a.push(b||"/")}},[r,a,h]),r)return null;let v=async b=>{t(!0);try{await q(b),o.toast.success("登录成功");let c=h.get("redirect");a.push(c||"/")}catch(a){a instanceof j.ApiError?o.toast.error(a.message||"登录失败"):o.toast.error("登录失败，请稍后重试")}finally{t(!1)}};return(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background px-4",children:(0,b.jsxs)("div",{className:"w-full max-w-md space-y-8",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"登录"}),(0,b.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"登录您的账户以继续"})]}),(0,b.jsx)(n.Form,{...u,children:(0,b.jsxs)("form",{onSubmit:u.handleSubmit(v),className:"space-y-4",children:[(0,b.jsx)(n.FormField,{control:u.control,name:"username",render:({field:a})=>(0,b.jsxs)(n.FormItem,{children:[(0,b.jsx)(m.Label,{htmlFor:"username",children:"用户名"}),(0,b.jsx)(l.Input,{id:"username",type:"text",placeholder:"请输入用户名",...a,disabled:s}),(0,b.jsx)(n.FormMessage,{})]})}),(0,b.jsx)(n.FormField,{control:u.control,name:"password",render:({field:a})=>(0,b.jsxs)(n.FormItem,{children:[(0,b.jsx)(m.Label,{htmlFor:"password",children:"密码"}),(0,b.jsx)(l.Input,{id:"password",type:"password",placeholder:"请输入密码",...a,disabled:s}),(0,b.jsx)(n.FormMessage,{})]})}),(0,b.jsx)(k.Button,{type:"submit",className:"w-full",disabled:s,children:s?"登录中...":"登录"})]})}),(0,b.jsxs)("div",{className:"text-center text-sm",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"还没有账户？"})," ",(0,b.jsx)(e.default,{href:"/register",className:"text-primary hover:underline font-medium",children:"立即注册"})]})]})})}function r(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsx)("div",{className:"text-muted-foreground",children:"加载中..."})}),children:(0,b.jsx)(q,{})})}a.s(["default",()=>r])}];

//# sourceMappingURL=Desktop_web_todo-web_e96e2e54._.js.map