module.exports=[21430,(a,b,c)=>{"use strict";b.exports=a.r(95211).vendored["react-ssr"].ReactServerDOMTurbopackClient},29130,a=>{"use strict";var b=a.i(27613),c=a.i(34991),d=a.i(38490),e=a.i(1184),f=a.i(20066),g=a.i(41940),h=a.i(88110),i=a.i(90953),j=a.i(81729),k=a.i(45020),l=a.i(8046),m=a.i(22051),n=a.i(72758),o=a.i(62416);let p=h.z.object({username:h.z.string().min(1,"请输入用户名").min(3,"用户名至少3个字符"),password:h.z.string().min(1,"请输入密码").min(6,"密码至少6个字符"),confirmPassword:h.z.string().min(1,"请确认密码")}).refine(a=>a.password===a.confirmPassword,{message:"两次输入的密码不一致",path:["confirmPassword"]});function q(){let a=(0,d.useRouter)(),{register:h,isAuthenticated:q}=(0,i.useAuth)(),[r,s]=(0,c.useState)(!1),t=(0,f.useForm)({resolver:(0,g.zodResolver)(p),defaultValues:{username:"",password:"",confirmPassword:""}});if((0,c.useEffect)(()=>{q&&a.push("/")},[q,a]),q)return null;let u=async b=>{s(!0);try{await h({username:b.username,password:b.password}),o.toast.success("注册成功"),a.push("/")}catch(a){a instanceof j.ApiError?o.toast.error(a.message||"注册失败"):o.toast.error("注册失败，请稍后重试")}finally{s(!1)}};return(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background px-4",children:(0,b.jsxs)("div",{className:"w-full max-w-md space-y-8",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"注册"}),(0,b.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"创建新账户"})]}),(0,b.jsx)(n.Form,{...t,children:(0,b.jsxs)("form",{onSubmit:t.handleSubmit(u),className:"space-y-4",children:[(0,b.jsx)(n.FormField,{control:t.control,name:"username",render:({field:a})=>(0,b.jsxs)(n.FormItem,{children:[(0,b.jsx)(m.Label,{htmlFor:"username",children:"用户名"}),(0,b.jsx)(l.Input,{id:"username",type:"text",placeholder:"请输入用户名（至少3个字符）",...a,disabled:r}),(0,b.jsx)(n.FormMessage,{})]})}),(0,b.jsx)(n.FormField,{control:t.control,name:"password",render:({field:a})=>(0,b.jsxs)(n.FormItem,{children:[(0,b.jsx)(m.Label,{htmlFor:"password",children:"密码"}),(0,b.jsx)(l.Input,{id:"password",type:"password",placeholder:"请输入密码（至少6个字符）",...a,disabled:r}),(0,b.jsx)(n.FormMessage,{})]})}),(0,b.jsx)(n.FormField,{control:t.control,name:"confirmPassword",render:({field:a})=>(0,b.jsxs)(n.FormItem,{children:[(0,b.jsx)(m.Label,{htmlFor:"confirmPassword",children:"确认密码"}),(0,b.jsx)(l.Input,{id:"confirmPassword",type:"password",placeholder:"请再次输入密码",...a,disabled:r}),(0,b.jsx)(n.FormMessage,{})]})}),(0,b.jsx)(k.Button,{type:"submit",className:"w-full",disabled:r,children:r?"注册中...":"注册"})]})}),(0,b.jsxs)("div",{className:"text-center text-sm",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"已有账户？"})," ",(0,b.jsx)(e.default,{href:"/login",className:"text-primary hover:underline font-medium",children:"立即登录"})]})]})})}a.s(["default",()=>q])}];

//# sourceMappingURL=Desktop_web_todo-web_5eaabaae._.js.map